<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kutty ğŸ’•</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #ffdde1, #ee9ca7);
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
}

/* MAIN CARD */
.box {
    background: white;
    width: 90%;
    max-width: 460px;
    padding: 30px;
    border-radius: 25px;
    text-align: center;
    box-shadow: 0 25px 50px rgba(0,0,0,0.25);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
}

/* TEXT */
h2 { color: #ff4b6e; }
p {
    color: #444;
    font-size: 16px;
    line-height: 1.7;
}

/* BUTTONS */
button {
    padding: 12px 25px;
    border-radius: 30px;
    border: none;
    font-size: 16px;
    cursor: pointer;
    background: #ff4b6e;
    color: white;
    margin-top: 15px;
}

#no {
    background: #ddd;
    color: #333;
    position: absolute;
}

/* ğŸ± CAT STICKERS */
.cat {
    width: 140px;
    height: 140px;
    object-fit: cover;
    position: absolute;
    box-shadow: 0 12px 28px rgba(0,0,0,0.25);
    z-index: 3;
    border-radius: 14px;
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    0% { transform: translateY(0); }
    50% { transform: translateY(-14px); }
    100% { transform: translateY(0); }
}
/* -- ğŸ’Œ ENVELOPE INTRO */
    
#envelopeIntro {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg,#fff0f3,#ffe6ec);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}
.envelopeBox {
    background: white;
    padding: 30px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

</style>
</head>

<body>
    
<div id="envelopeIntro">
  <div class="envelopeBox">
      <h2>For You ğŸ’Œ</h2>
      <p>Open this slowly, Kutty ğŸ¤</p>
      <button onclick="openEnvelope()">Open Envelope âœ¨</button>
  </div>
</div>

    <!-- ğŸŒ¸ SOFT CHOICE SCREEN -->
<div id="softChoiceScreen" class="box" style="display:none; z-index:9998;">
    <h2>Choose what feels like you ğŸ¤</h2>
    <button onclick="softChoice()">ğŸŒ¸ Peace</button>
    <button onclick="softChoice()">âœ¨ Warmth</button>
    <button onclick="softChoice()">ğŸ± Comfort</button>
    <button onclick="softChoice()">ğŸ’– Love</button>
</div>

<!-- ğŸµ Background Song -->
<audio id="song">
    <source src="blue.mp3" type="audio/mpeg">
</audio>

<!-- CAT BACKGROUND LAYER -->
<div id="catsLayer"></div>

<div class="box" id="box">
    <h2>Hey Kutty ğŸ˜¸</h2>
    <p>
        This page has cats ğŸ±, chaos ğŸ¾  
        and a little mischiefâ€¦ just like you ğŸ˜
    </p>
    <button onclick="next()">Okayyy ğŸ’•</button>
</div>

<script>
let step = 0;

/* ğŸ± Scatter cats (generic, few cats) */
function scatterCats(count = 5) {
    const layer = document.getElementById("catsLayer");
    layer.innerHTML = "";

    const cx = window.innerWidth / 2;
    const cy = window.innerHeight / 2;
    const safe = 220;

    for (let i = 0; i < count; i++) {
        placeCat(layer, cx, cy, safe);
    }
}

/* ğŸ± Scatter ALL 30 cats without overlap (YES page) */
function scatterAllCats() {
    const layer = document.getElementById("catsLayer");
    layer.innerHTML = "";

    const placed = [];
    const minDist = 160;
    const cx = window.innerWidth / 2;
    const cy = window.innerHeight / 2;

    for (let i = 1; i <= 30; i++) {
        let tries = 0;
        let x, y, ok;

        do {
            ok = true;
            x = Math.random() * (window.innerWidth - 150);
            y = Math.random() * (window.innerHeight - 150);

            if (Math.abs(x - cx) < 220 && Math.abs(y - cy) < 220) ok = false;

            for (const p of placed) {
                if (Math.hypot(p.x - x, p.y - y) < minDist) {
                    ok = false;
                    break;
                }
            }
            tries++;
        } while (!ok && tries < 100);

        placed.push({ x, y });

        const img = document.createElement("img");
        img.src = `cats/cat${i}.jpg`;
        img.className = "cat";
        img.style.left = x + "px";
        img.style.top = y + "px";
        img.style.transform = `rotate(${Math.random() * 24 - 12}deg)`;
        img.style.animationDelay = Math.random() * 2 + "s";

        layer.appendChild(img);
    }
}

/* Helper */
function placeCat(layer, cx, cy, safe) {
    const n = Math.floor(Math.random() * 30) + 1;
    const img = document.createElement("img");

    let x, y;
    do {
        x = Math.random() * (window.innerWidth - 150);
        y = Math.random() * (window.innerHeight - 150);
    } while (
        Math.abs(x - cx) < safe &&
        Math.abs(y - cy) < safe
    );

    img.src = `cats/cat${n}.jpg`;
    img.className = "cat";
    img.style.left = x + "px";
    img.style.top = y + "px";
    img.style.transform = `rotate(${Math.random() * 24 - 12}deg)`;
    img.style.animationDelay = Math.random() * 2 + "s";

    layer.appendChild(img);
}

scatterCats();

function next() {
    step++;
    scatterCats();

    const box = document.getElementById("box");

    if (step === 1) {
        box.innerHTML = `
            <h2>Kutty listen ğŸ¾</h2>
            <p>
                Somewhere between ordinary moments,  
                you became my favourite thought ğŸ¤âœ¨.  
                Cats are cuteâ€¦ but you?  
                You make my heart feel at home ğŸ±ğŸ’–
            </p>
            <button onclick="next()">Next ğŸ’•</button>
        `;
    }
    else if (step === 2) {
        box.innerHTML = `
            <h2>Just one honest moment ğŸ˜Œ</h2>
            <p>
                When I think of comfort, warmth, and a soft smile,  
                it somehow always feels like *you* ğŸ¥¹ğŸ’.
            </p>
            <button onclick="showProposal()">Okay ğŸ™ˆ</button>
        `;
    }
}

function showProposal() {
    scatterCats();
    const box = document.getElementById("box");
    box.innerHTML = `
        <h2>Will you be my Valentine, Kutty? ğŸ’ğŸ’–ğŸ’</h2>
        <p>
            This question carries all my feelings,  
            wrapped in love, hope, and a shy smile ğŸ¦‹ğŸ¥¹
        </p>
        <button onclick="yes()">YES ğŸ’•</button>
        <button id="no" onmouseover="moveNo()">NO ğŸ¥²</button>
    `;
}

/* NO button playful movement */
function moveNo() {
    const no = document.getElementById("no");
    no.style.top = Math.random() * 200 + "px";
    no.style.left = Math.random() * 200 + "px";
}

function yes() {
    scatterAllCats();   // ğŸ”¥ ONLY CHANGE FOR YES PAGE
    const box = document.getElementById("box");
    box.innerHTML = `
        <h2>My Heart ğŸ’—</h2>
        <p>
            Miku Kutty ğŸ±ğŸ’–,<br><br>

            I truly admire you and the effort you put into making this relationship more beautiful, engaging, and lively ğŸ’—âœ¨.  
            Just seeing you, hearing your voice, or even thinking about you makes me genuinely happy ğŸ¥¹â¤ï¸.<br><br>

            You are the girl I always wanted in my life, and I deeply cherish every moment I have spent with you and all the beautiful moments we are gonna spend together ğŸŒ¹ğŸ¤.<br><br>

            I promise to always keep you happyâ˜ºï¸, even after our marriage, and to build a joyful, loving, and wonderful family with you ğŸ¡ğŸ’.  
            Letâ€™s love each other more and more until the very end of our lives, baby ğŸ’‘âœ¨.<br><br>

            I love you MadhuğŸ’—, Mythiliâ¤ï¸, MookieğŸ˜˜, MimiğŸ’, PaapağŸ¥, Kutty ğŸ˜˜ğŸ¾ğŸ’–.
        </p>
    `;
     setTimeout(startHeartGame, 50000);
}
</script>
    <!-- ğŸ’– CATCH THE HEARTS GAME (ADD-ON) -->
<style>
#heartGame {
    position: fixed;
    inset: 0;
    background: rgba(255, 222, 225, 0.95);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    overflow: hidden;
}

#heartBox {
    background: white;
    padding: 25px;
    border-radius: 25px;
    text-align: center;
    box-shadow: 0 20px 45px rgba(0,0,0,0.25);
    max-width: 360px;
}

.heart {
    position: absolute;
    font-size: 40px;
    cursor: pointer;
    animation: floatHeart 6s linear forwards;
}

@keyframes floatHeart {
    from {
        bottom: -50px;
        opacity: 1;
    }
    to {
        bottom: 110%;
        opacity: 0;
    }
}
</style>

<div id="heartGame">
    <div id="heartBox">
        <h2>One last thingâ€¦ ğŸ’•</h2>
        <p>
            Catch the hearts ğŸ’–  
            (Just tap them ğŸ˜„)
        </p>
        <p id="heartCount">Hearts caught: 0</p>
    </div>
</div>

<script>
let heartsCaught = 0;
let heartInterval;

/* Start game */
function startHeartGame() {
    const game = document.getElementById("heartGame");
    game.style.display = "flex";
    heartsCaught = 0;
    document.getElementById("heartCount").innerText = "Hearts caught: 0";

    heartInterval = setInterval(spawnHeart, 800);
}

/* Create hearts */
function spawnHeart() {
    if (heartsCaught >= 5) {
        endHeartGame();
        return;
    }

    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = "ğŸ’–";
    heart.style.left = Math.random() * 90 + "vw";

    heart.onclick = () => {
        heartsCaught++;
        heart.remove();
        document.getElementById("heartCount").innerText =
            "Hearts caught: " + heartsCaught;
    };

    document.getElementById("heartGame").appendChild(heart);

    setTimeout(() => {
        heart.remove();
    }, 6000);
}

/* End game */
function endHeartGame() {
    clearInterval(heartInterval);

    document.getElementById("heartBox").innerHTML = `
        <h2>You did it ğŸ¥¹ğŸ’–</h2>
        <p>
            That smile youâ€™re wearing right nowâ€¦  
            thatâ€™s all I wanted ğŸ¤
            <br><br>
            Letâ€™s stay this happy, always ğŸ±âœ¨
        </p>
    `;
}

    function openEnvelope() {
    document.getElementById("song").play();
    document.getElementById("envelopeIntro").style.display = "none";
    document.getElementById("softChoiceScreen").style.display = "block";    
}

function softChoice() {
    const screen = document.getElementById("softChoiceScreen");
    screen.innerHTML = `
        <p>That makes sense ğŸ¤<br>Iâ€™m really glad youâ€™re here.</p>
        <button onclick="startMainFlow()">Continue</button>
    `;
}

function startMainFlow() {
    document.getElementById("softChoiceScreen").style.display = "none";
    document.getElementById("box").style.display = "block";
}

</script>
<!-- ğŸ’– END OF GAME -->

</body>
</html>











